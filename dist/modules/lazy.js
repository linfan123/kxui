/**
 * method kxui
 * version 1.3.1
 * author Lkx
 * create time 2018.05.31
 * update time 2018.10.20
 * website http://www.kxui.org
 */

"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(t,e){var i={0:"容器 {"+e+"} 不存在",1:"当前页面未发现 <img> 标签"};console.warn("kxui-"+o.version+"： "+i[t]+"。")}var o=t.kxui,i="undefined"!=typeof module&&"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports),n=function(t){this.parameter="object"===("undefined"==typeof t?"undefined":_typeof(t))?t:{},this.variable()};n.prototype={variable:function(){this.threshold=Number(this.parameter.threshold)?Number(this.parameter.threshold):0,this.externalContainer=this.parameter.container?o.method.getDom(this.parameter.container):"",this.parameter.container&&!this.externalContainer&&e(0,this.parameter.container),this.container()},container:function(){this.img=o.method.getDom("img"),this.img||this.img.length>0?this["static"]():e(1)},"static":function(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC";if(this.img.length)for(var e=0;e<this.img.length;e++)o.method.atrDom(this.img[e],"src",t);else o.method.atrDom(this.img,"src",t);this.event(),this.branch()},event:function(){var e=this,o=this.externalContainer||t;o.onscroll=function(){e.branch()}},branch:function(){var t=this.externalContainer?this.externalContainer.scrollTop:document.documentElement.scrollTop||document.body.scrollTop,e=this.externalContainer?this.externalContainer.clientHeight:document.documentElement.clientHeight||document.body.clientHeight;if(this.img.length)for(var o=0;o<this.img.length;o++)this.exhibition(this.img[o],t,e);else this.exhibition(this.img,t,e)},exhibition:function(t,e,i){var n=o.method.atrDom(t,"lazy-src");n&&t.offsetTop-(this.externalContainer?t.parentNode.offsetTop:0)<=e+i+this.threshold&&t.offsetTop+t.offsetHeight-(this.externalContainer?t.parentNode.offsetTop:0)>=e-this.threshold&&n!==o.method.atrDom(t,"src")&&o.method.atrDom(t,"src",n)}};var r=function(){this.name="Lazy",this.info="Picture loading scheme"};r.fn=r.prototype,r.fn.load=function(t){this.logic=new n(t),delete this.logic},o.lazy=new r,i&&(o.lazy=module.exports=new r)}(window);