/**
 * method kxui
 * version 1.3.8
 * author Lkx
 * create time 2018.05.31
 * update time 2019.05.31
 * website http://www.kxui.org
 */

"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(e,t,r){var o={0:"方法 {"+t+"} 必填字段 {"+r+"} 不能为空",1:"DOM {"+t+"} 存在重复或不正确",2:"方法 {"+t+"} 不支持此数据类型"};console.warn("kxui-"+n.version+"： 模块 {method} "+o[e]+"。")}var n=e.kxui,r="undefined"!=typeof module&&"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports),o=function(){this.name="Method",this.info="Integration of development methods"};o.fn=o.prototype,o.fn.urlData=function(n){if(n){var r=e.location.search.match(new RegExp("[\\?\\&]"+n+"=([^\\&]+)","i"));return!r||r.length<1?"":r[1]}t(0,"urlData","data")},o.fn.repStr=function(e,n,r){return r=r||"",e&&(n||0===n)?(e=String(e),String(e).replace(new RegExp(n,"g"),r)):void t(0,"repStr",e?"app":"str")},o.fn.chaStr=function(e,n,r){if(e=String(e),n=Number(n)||0,r=r||0,e){var o=0,i=e.substr(o,n),a=e.substr(n+1,e.length),f=i+r+a;return f}t(0,"chaStr","str")},o.fn.insStr=function(e,n,r){if(e&&n&&r){e=String(e);var o=e.split(n);return"number"==typeof n?e.slice(0,n)+r+e.slice(n):("string"==typeof n&&o.length>1&&(o[1]=r+o[1],e=o.join(n)),e)}t(0,"insStr",e?n?"app":"after":"str")},o.fn.queStr=function(e,n,r){if(e&&n){e=String(e);var o="boolean"!=typeof r||r,i=o?e.match(new RegExp(n+"(\\S*)")):e.match(new RegExp("(\\S*)"+n));return!i||i.length<1?"":i[1]}t(0,"queStr",e?"app":"str")},o.fn.midStr=function(e,n,r){if(e&&n&&r){e=String(e);var o=e.match(new RegExp(n+"(\\S*)"+r));return!o||o.length<1?"":o[1]}t(0,"midStr",e?n?"aft":"fro":"str")},o.fn.sortArr=function(e,n){if(e){var r=[];n="boolean"!=typeof n||n;for(var o=0;o<e.length-1;o++){for(var i=!0,a=0;a<e.length-1-o;a++){var f=n?e[a]>e[a+1]:e[a]<e[a+1];f&&(r=e[a],e[a]=e[a+1],e[a+1]=r,i=!1)}if(i)break}return e}t(0,"sortArr","arr")},o.fn.delRepArr=function(e){return e?Array.from(new Set(e)):void t(0,"delRepStr","arr")},o.fn.countArr=function(e,n){if(e&&n){for(var r=0,o=0,i=e.length;o<i;o++)n===e[o]&&r++;return r}t(0,"countArr",e?"ele":"arr")},o.fn.conArr=function(e,n){if(e&&n){for(var r=0;r<e.length;r++)if(e[r]===n)return!0;return!1}t(0,"conArr",e?"ele":"arr")},o.fn.filArr=function(e,n){return e&&n?e.filter(function(e){return e.toLowerCase().indexOf(n.toLowerCase())>-1}):void t(0,"filArr",e?"que":"arr")},o.fn.delEle=function(e,n){if(e&&(n||0===n)){var r=e.indexOf(n);return r>=0&&e.splice(r,1),e}t(0,"delEle",e?"app":"arr")},o.fn.remEle=function(e,n){if(e&&(n||0===n)){for(var r=0;r<e.length;r++){var o=e.indexOf(e[r]);n===o&&e.splice(o,1)}return e}t(0,"remEle",e?"ind":"arr")},o.fn.intersect=function(){for(var e=[],t={},n=0;n<arguments.length;n++)for(var r=0;r<arguments[n].length;r++){var o=arguments[n][r];t[o]?(t[o]++,t[o]===arguments.length&&e.push(o)):t[o]=1}return e},o.fn.formTest=function(e,n){if(e&&n){var r={};return r.num=/^\d+$/,r.phone=/^0?(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]{8}$/,r.id=/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i,r.email=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,!(!r[n]||!r[n].test(e))}t(0,"formTest",e?"reg":"data")},o.fn.hasClass=function(e,n){return e&&n?(e=this.getDom(e),0!==n.replace(/\s/g,"").length&&new RegExp(" "+n+" ").test(" "+e.className+" ")):void t(0,"hasClass",e?"cls":"dom")},o.fn.addClass=function(e,n){return e&&n?(e=this.getDom(e),!this.hasClass(e,n)&&(e.className=""===e.className?n:e.className+" "+n,!0)):void t(0,"addClass",e?"cls":"dom")},o.fn.delClass=function(e,n){if(e&&n){if(e=this.getDom(e),this.hasClass(e,n)){for(var r=" "+e.className.replace(/[\t\r\n]/g,"")+" ";r.indexOf(" "+n+" ")>=0;)r=r.replace(" "+n+" "," ");return e.className=r.replace(/^\s+|\s+$/g,""),!0}return!1}t(0,"delClass",e?"cls":"dom")},o.fn.setCache=function(e,n,r){if(e&&n){if("function"!=typeof n){n="object"===("undefined"==typeof n?"undefined":_typeof(n))?JSON.stringify(n):n,localStorage.setItem(e,n);var o=parseInt(r);if(o>0){var i=this.dateGet()+o;localStorage.setItem(e+" (method.time)",i)}return!0}return t(2,"setCache"),!1}t(0,"setCache",e?"val":"key")},o.fn.getCache=function(e){if(e){var n=JSON.parse(localStorage.getItem(e)),r=parseInt(localStorage.getItem(e+" (method.time)"));return r&&r<this.dateGet()?(this.delCache(e),!1):n}t(0,"getCache","key")},o.fn.delCache=function(e){return e?(localStorage.removeItem(e),localStorage.removeItem(e+" (method.time)"),!0):void t(0,"delCache","key")},o.fn.setCookie=function(e,n,r){if(e&&n){if("function"!=typeof n){n="object"===("undefined"==typeof n?"undefined":_typeof(n))?JSON.stringify(n):n;var o=new Date,i=parseInt(r);return o.setDate(o.getDate()+i),document.cookie=e+"="+n+";expires="+o,!0}return t(2,"setCookie"),!1}t(0,"setCookie",e?"val":"key")},o.fn.getCookie=function(e){if(e){for(var n=document.cookie.split("; "),r=0;r<n.length;r++){var o=n[r].split("=");if(o[0]===e)return JSON.parse(o[1])}return!1}t(0,"getCookie","key")},o.fn.delCookie=function(e){return e?(this.setCookie(e,1,-1),!0):void t(0,"delCookie","key")},o.fn.compare=function(e,n,r){if(e&&n){var o=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(n);if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++){var f=o[a];if(e[f]!==n[f])return!1}return!0}"noThrows"!==r&&t(0,"compare",e?"dataTwo":"dataOne")},o.fn.setHis=function(e,n){if(e){var r=parseInt(n)||6,o=this.getCache("(method.history)"),i=[];if(o&&o.length>0){i=JSON.parse(o);for(var a=null,f=null,s=i.length<r?i.length+1:i.length,u=0;u<s;u++){if(this.compare(i[u],e,"noThrows"))return i;0===u?(a=i[u],i[u]=e):(f=i[u],i[u]=a,a=f)}}else i[0]=e;return this.setCache("(method.history)",JSON.stringify(i)),i}t(0,"setHis","data")},o.fn.getHis=function(){var e=this.getCache("(method.history)");return!!e&&JSON.parse(e)},o.fn.delHis=function(){return this.delCache("(method.history)")},o.fn.dateGet=function(e){e="boolean"!=typeof e||e;var t=e?Date.parse(new Date):Number(Date.parse(new Date).toString().substr(0,10));return t},o.fn.dateAppoint=function(e){if(e){var n=new Date;return n.setFullYear(e.substring(0,4)),n.setMonth(e.substring(5,7)-1),n.setDate(e.substring(8,10)),n.setHours(e.substring(11,13)),n.setMinutes(e.substring(14,16)),n.setSeconds(e.substring(17,19)),Date.parse(n)/1e3}t(0,"dateAppoint","time")},o.fn.dateTurn=function(e,n,r){if(e){var o=new Date(13===e.toString().length?e:1e3*e),i=n?String(n):"-",a="boolean"!=typeof r||r,f=o.getFullYear(),s=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,u=1===o.getDate().toString().length?"0"+o.getDate():o.getDate(),l=1===o.getHours().toString().length?"0"+o.getHours():o.getHours(),c=1===o.getMinutes().toString().length?"0"+o.getMinutes():o.getMinutes(),d=1===o.getSeconds().toString().length?"0"+o.getSeconds():o.getSeconds();return f+i+s+i+u+(a?" "+l+":"+c+":"+d:"")}t(0,"dateTurn","tamp")},o.fn.dateChina=function(e){if(e){var n=6e4,r=60*n,o=24*r,i=this.dateGet(),a=i-(13===String(e).length?e:1e3*e);if(a<0)return;var f=a/n,s=a/r,u=a/o,l=null;return l=f>=1&&f<60?" "+parseInt(f)+" 分钟前":s>=1&&s<24?" "+parseInt(s)+" 小时前":u>=1&&u<2?"昨天":u>=2&&u<3?"前天":u>=3&&u<30?" "+parseInt(u)+" 天前":u>=30?this.dateTurn(e,"-",!1):"刚刚"}t(0,"dateChina","tamp")},o.fn.getDom=function(n,r){r="boolean"==typeof r&&r;var o=function(){return"object"===("undefined"==typeof n?"undefined":_typeof(n))?n:"string"==typeof n?(n=r?e.top.document.querySelectorAll(n):document.querySelectorAll(n),1===n.length?n[0]:0!==n.length&&n):void 0};if(n)try{return n instanceof jQuery?n[0]:o()}catch(i){return o()}t(0,"getDom","dom")},o.fn.addDom=function(e){if(e){var n=document.createElement("div");return n.innerHTML=e,n.childNodes[0]}t(0,"addDom","str")},o.fn.atrDom=function(e,n,r){if(e&&n){if(e=this.getDom(e),e.length)t(1,e);else{if(n&&"string"==typeof n&&r)return e.setAttribute(n,r),!0;if(n&&"string"==typeof n)return e.getAttribute(n)}return!1}t(0,"atrDom",e?"key":"dom")},o.fn.sonDom=function(e){if(e){e=this.getDom(e);var n=e.childNodes;if(n){for(var r=[],o=0;o<n.length;o++)(3!==n[o].nodeType||"#text"!==n[o].nodeName||/\S/.test(n[o].nodeValue))&&r.push(n[o]);return r}return!1}t(0,"sonDom","dom")},o.fn.sonQueDom=function(e,n){function r(e){for(var t=0;t<e.length;t++)"#"+e[t].id===n||"."+e[t].className===n||e[t].tagName===n.toUpperCase()?(i.push(e[t]),o.sonDom(e[t]).length>0&&r(o.sonDom(e[t]))):o.sonDom(e[t]).length>0&&r(o.sonDom(e[t]))}var o=this,i=[];return e&&n?(e=o.getDom(e),r(o.sonDom(e)),i):void t(0,"sonQueDom",e?"dom":"father")},o.fn.random=function(e){if(e){e=Number(e);for(var n="";n.length<e;n+=Math.random().toString(36).substr(2));return str.substr(0,e)}t(0,"random","len")},o.fn.randomNum=function(e,t){return 2===arguments.length?Math.round(e+Math.random()*(t-e)):1===arguments.length?Math.round(Math.random()*e):Math.round(255*Math.random())},o.fn.randomColor=function(e){return e="boolean"!=typeof e||e,e?"rgb("+this.randomNum(255)+","+this.randomNum(255)+","+this.randomNum(255)+")":"#"+Math.random().toString(16).substring(2).substr(0,6)},o.fn.mouse=function(t){var r=t||e.event,o=0,i=0;if("pc"===n.info().device)if(r.pageX)o=r.pageX,i=r.pageY;else{var a=0,f=0;document.documentElement?(f=document.documentElement.scrollTop,a=document.documentElement.scrollLeft):(f=document.body.scrollTop,a=document.body.scrollLeft),o=r.clientX+a,i=r.clientY+f}else{var s=t.changedTouches[0];o=Number(s.pageX),i=Number(s.pageY)}return{x:o,y:i}},o.fn.accAdd=function(e,n){if(e&&n){var r=void 0,o=void 0,i=void 0;try{r=e.toString().split(".")[1].length}catch(a){r=0}try{o=n.toString().split(".")[1].length}catch(a){o=0}return i=Math.pow(10,Math.max(r,o)),(e*i+n*i)/i}t(0,"accAdd",e?"b":"a")},o.fn.accSub=function(e,n){if(e&&n){var r=void 0,o=void 0,i=void 0,a=void 0;try{r=e.toString().split(".")[1].length}catch(f){r=0}try{o=n.toString().split(".")[1].length}catch(f){o=0}return i=Math.pow(10,Math.max(r,o)),a=r>=o?r:o,((e*i-n*i)/i).toFixed(a)}t(0,"accSub",e?"b":"a")},o.fn.accMul=function(e,n){if(e&&n){var r=0,o=e.toString(),i=n.toString();try{r+=o.split(".")[1].length}catch(a){}try{r+=i.split(".")[1].length}catch(a){}return Number(o.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,r)}t(0,"accMul",e?"b":"a")},o.fn.accDiv=function(e,n){if(e&&n){var r=0,o=0,i=void 0,a=void 0;try{r=e.toString().split(".")[1].length}catch(f){}try{o=n.toString().split(".")[1].length}catch(f){}return i=Number(e.toString().replace(".","")),a=Number(n.toString().replace(".","")),i/a*Math.pow(10,o-r)}t(0,"accDiv",e?"b":"a")},o.fn.middle=function(n){if(n){var r=this,o=this.getDom(n),i=o.offsetWidth,a=o.offsetHeight,f=e.innerWidth,s=e.innerHeight,u=(f-i)/2,l=(s-a)/2;o.style.left=u+"px",o.style.top=l+"px",e.onresize=function(){r.middle(n)}}else t(0,"middle","dom")},o.fn.decimal=function(e,n){if(n=n||0,e){var r=parseFloat(e);return isNaN(r)?0:Number(e.toFixed(n))}t(0,"decimal","num")},o.fn.money=function(e){return e?parseFloat(e).toFixed(2).replace(/\d(?=(?:\d{3})+\b)/g,"$&,"):void t(0,"money","str")},o.fn.bankCard=function(e){if(e){e=String(e);var n=e.replace(/\d(?=(?:\d{4})+\b)/g,"$& ");return n}t(0,"bankCard","str")},o.fn.aniScroll=function(e,t){var n=this;clearInterval(this.getCache("(method.aniScroll)")),t=!!t&&this.getDom(t);var r=setInterval(function(){var r=t?t.scrollTop:document.documentElement.scrollTop||document.body.scrollTop,o=e>r?e-r:r-e,i=Math.ceil(o/10);parseInt(r)===parseInt(e)?clearInterval(n.getCache("(method.aniScroll)")):t?t.scrollTo(0,e>r?r+i:r-i):window.scrollTo(0,e>r?r+i:r-i)},10);this.setCache("(method.aniScroll)",r)},o.fn.stopProp=function(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0},o.fn.utf8=function(e){if(e){var n=void 0,r=void 0,o=void 0,i=void 0;for(n="",o=e.length,r=0;r<o;r++)i=e.charCodeAt(r),i>=1&&i<=127?n+=e.charAt(r):i>2047?(n+=String.fromCharCode(224|i>>12&15),n+=String.fromCharCode(128|i>>6&63),n+=String.fromCharCode(128|i>>0&63)):(n+=String.fromCharCode(192|i>>6&31),n+=String.fromCharCode(128|i>>0&63));return n}t(0,"utf8","str")},o.fn.deepCopy=function(e){if(e){var n=Array.isArray(e)?[]:{};for(var r in e)e.hasOwnProperty(r)&&("object"===_typeof(e[r])?n[r]=deepCopy(e[r]):n[r]=e[r]);return n}t(0,"deepCopy","obj")},o.fn.copyText=function(e){if(e){var n=document.createElement("input");return n.value=e,this.getDom("body").appendChild(n),n.select(),n.setSelectionRange(0,n.value.length),document.execCommand("Copy"),this.getDom("body").removeChild(n),!0}t(0,"copyText","text")},o.fn.setStyle=function(e,n){if(e&&n){if("object"===("undefined"==typeof n?"undefined":_typeof(n))){e=this.getDom(e);for(var r in n)e.style[r]=n[r];return!0}return t(2,"setStyle"),!1}t(0,"setStyle",e?"sty":"dom")},o.fn.getStyle=function(e,n){return e&&n?(e=this.getDom(e),e.currentStyle?e.currentStyle[n]:!!window.getComputedStyle&&document.defaultView.getComputedStyle(e,null)[n]):void t(0,"getStyle",e?"arr":"dom")},o.fn.delSpace=function(e){if(e){if("string"==typeof e)return e.replace(/[ ]/g,"");for(prop in e)if("object"===_typeof(e[prop])&&Array.isArray(e[prop]))for(var n=e[prop],r=0;r<n.length;r++)n[r]=this.delSpace(n[r]);else"object"===_typeof(e[prop])&&e[prop]instanceof Object?e[prop]=this.delSpace(e[prop]):"string"==typeof e[prop]&&"FormMeta"!==prop&&(e[prop]=e[prop].replace(/[ ]/g,""));return e}t(0,"delSpace","ope")},o.fn.repLabel=function(e){if(e){if("string"==typeof e){for(var n=e;n.indexOf(">")>=0||n.indexOf("<")>=0;)n=n.replace("<","&lt;").replace(">","&gt;");return n}return t(2,"repLabel"),!1}t(0,"repLabel","str")},o.fn.enter=function(e,n){e&&n?(e=this.getDom(e),e.onkeydown=function(e){var r=e||window.event||arguments.callee.caller.arguments[0];r&&13===r.keyCode&&("function"==typeof n?n():t(2,"enter"))}):t(0,"enter",e?"callback":"dom")},n.method=new o,r&&(n.method=module.exports=new o)}(window);