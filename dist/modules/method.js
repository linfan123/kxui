/**
 * method kxui
 * version 1.1.1
 * author Lkx
 * create time 2018.05.31
 * update time 2018.06.02
 * website http://www.kxui.org
 */

"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t="undefined"!=typeof module&&"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports),n=function(){this.name="Method",this.info="Integration of development methods"};n.fn=n.prototype,n.fn.urlData=function(e){var t=window.location.search.match(new RegExp("[\\?\\&]"+e+"=([^\\&]+)","i"));return null==t||t.length<1?"":t[1]},n.fn.delStr=function(e,t){var n=e.replace(new RegExp(t,"g"),"");return n},n.fn.repStr=function(e,t,n){var r=e.replace(new RegExp(t,"g"),n);return null==n?"":r},n.fn.insStr=function(e,t,n){var r=e.split(t);return"number"==typeof t?e.slice(0,t)+n+e.slice(t):("string"==typeof t&&r.length>1&&(r[1]=n+r[1],e=r.join(t)),e)},n.fn.forStr=function(e,t){var n=e.match(new RegExp("(\\S*)"+t));return null==n||n.length<1?"":n[1]},n.fn.aftStr=function(e,t){var n=e.match(new RegExp(t+"(\\S*)"));return null==n||n.length<1?"":n[1]},n.fn.midStr=function(e,t,n){var r=e.match(new RegExp(t+"(\\S*)"+n));return null==r||r.length<1?"":r[1]},n.fn.verNum=function(e){var t=/^\d+$/;return!!t.test(e)},n.fn.verPhone=function(e){var t=/^0?(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]{8}$/;return!!t.test(e)},n.fn.verId=function(e){var t=/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i;return!!t.test(e)},n.fn.verEmail=function(e){var t=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;return!!t.test(e)},n.fn.hasClass=function(e,t){return t=t||"",0!==t.replace(/\s/g,"").length&&new RegExp(" "+t+" ").test(" "+e.className+" ")},n.fn.addClass=function(e,t){return!this.hasClass(e,t)&&(e.className=""===e.className?t:e.className+" "+t,!0)},n.fn.delClass=function(e,t){if(this.hasClass(e,t)){for(var n=" "+e.className.replace(/[\t\r\n]/g,"")+" ";n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");return e.className=n.replace(/^\s+|\s+$/g,""),!0}return!1},n.fn.setCache=function(e,t,n){localStorage.setItem(e,t);var r=parseInt(n);if(r>0){var o=Date.parse(new Date);o=o/1e3+r,localStorage.setItem(e+" (method.time)",o)}return!0},n.fn.getCache=function(e){var t=localStorage.getItem(e),n=parseInt(localStorage.getItem(e+" (method.time)"));return n&&n<Date.parse(new Date)/1e3?(this.delCache(e),!1):!!t&&String(t)},n.fn.delCache=function(e){return localStorage.removeItem(e),localStorage.removeItem(e+" (method.time)"),!0},n.fn.compare=function(e,t){var n="object"===("undefined"==typeof e?"undefined":_typeof(e)),r="object"===("undefined"==typeof t?"undefined":_typeof(t));if(!n||!r)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e){var a="object"===_typeof(e[o]),i="object"===_typeof(t[o]);if(a&&i)return this.diff(e[o],t[o]);if(e[o]!==t[o])return!1}return!0},n.fn.setHis=function(e,t){var n=parseInt(t)||999,r=this.getCache("(method.history)"),o=[];if(r&&r.length>0){o=JSON.parse(r);for(var a=null,i=null,f=o.length<n?o.length+1:o.length,u=0;u<f;u++){if(this.compare(o[u],e))return o;0===u?(a=o[u],o[u]=e):(i=o[u],o[u]=a,a=i)}}else o[0]=e;return this.setCache("(method.history)",JSON.stringify(o)),o},n.fn.delHis=function(){return localStorage.removeItem("(method.history)"),!0},n.fn.dateGet=function(e){var t="boolean"!=typeof e||e,n=t?Date.parse(new Date):Number(Date.parse(new Date).toString().substr(0,10));return n},n.fn.dateTurn=function(e,t,n){var r=new Date(13===e.toString().length?e:1e3*e),o=t?String(t):"-",a="boolean"!=typeof n||n,i=r.getFullYear(),f=r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,u=1===r.getDate().toString().length?"0"+r.getDate():r.getDate(),l=1===r.getHours().toString().length?"0"+r.getHours():r.getHours(),s=1===r.getMinutes().toString().length?"0"+r.getMinutes():r.getMinutes(),c=1===r.getSeconds().toString().length?"0"+r.getSeconds():r.getSeconds();return i+o+f+o+u+(a?" "+l+":"+s+":"+c:"")},n.fn.dateChina=function(e){var t=13===String(e).length?0:1,n=6e4,r=60*n,o=24*r,a=this.dateGet(),i=a-(0===t?e:1e3*e);if(!(i<0)){var f=i/n,u=i/r,l=i/o,s=null;return s=f>=1&&f<60?" "+parseInt(f)+" 分钟前":u>=1&&u<24?" "+parseInt(u)+" 小时前":l>=1&&l<2?"昨天":l>=2&&l<3?"前天":l>=3&&l<30?" "+parseInt(l)+" 天前":l>=30?this.dateTurn(e):"刚刚"}},n.fn.getDome=function(e){var t=document.querySelectorAll(e);return 1===t.length?t[0]:0!==t.length&&t},n.fn.addDome=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},n.fn.attr=function(e,t,n){var r="object"===("undefined"==typeof e?"undefined":_typeof(e))?e:this.getDome(e);return t&&"string"==typeof t&&n?(r.setAttribute(t,n),!0):!(!t||"string"!=typeof t)&&r.getAttribute(t)},t?module.exports=new n:e.kxui.method=new n}(window);